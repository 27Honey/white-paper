---
Описание: Перевод Версии 2.1.0
---
# Официальный документ

## Децентрализованный протокол для разработчиков открытого исходного кода с возможностью получения вознаграждения, соответствующего их вкладу

* Макс Хауэлл
* Томас Боррель
* Тимоти Льюис
* Трой Вонг

## Аннотация

Система, в которой разработчики открытого исходного кода могли бы получать вознаграждение, соответствующее их вкладу, повысила бы устойчивость и целостность цепочки поставок программного обеспечения. Децентрализованный протокол, обеспечиваемый репутацией и стимулами, мог бы достичь этой цели, облегчая накопление стоимости для разработчиков, поддерживающих базы кода с открытым исходным кодом как общественные утилиты, и тем самым способствуя будущим инновациям и росту в экосистеме с открытым исходным кодом. Владельцы пакетов будут регистрировать свои проекты в реестре, работающем на блокчейне с избыточной устойчивостью по модели Бизантинского согласия. Уникальный алгоритм "Доказательства вклада" протокола tea будет определять вклад и влияние каждого проекта на полезность и здоровье системы. Зарегистрированные проекты будут получать вознаграждение от протокола tea, соответствующее их вкладу, будут защищены путем стейкинга, будут иметь репутационную систему, охватывающую проекты и участников, и смогут предоставить возможность сообществам управлять своими областями в экосистеме с открытым исходным кодом, независимо от внешних интересов. Протокол tea будет стимулировать поддержание открытого исходного кода, позволяя участникам сети, которые зарегистрировали свои проекты и соблюдают правила сети, получать вознаграждение и вносить свой вклад в свою репутацию и проекты. Если будут обнаружены проблемы с безопасностью или разработкой, разработчики смогут подтвердить свои претензии доказательствами против пакета, и может произойти урезание. Члены сообщества с открытым исходным кодом могут рецензировать пакеты на предмет качественных проблем, и протокол может реагировать на эти рецензии, проводя пропорциональные события урезания.

## Отказ от ответственности

Информация, представленная в данной белой книге, имеет предварительный характер. Следовательно, ни авторы, ни их аффилированные лица не несут ответственности за то, что информация, представленная здесь, является окончательной или правильной, и каждое из вышеупомянутых лиц отказывается от любой и всей ответственности, возникающей из деликтов, контрактов или иных обстоятельств, связанных с данной белой книгой, в полной мере, допустимой применимым законом. Ни данная белая книга, ни что-либо, содержащееся в ней, не является основанием или не может быть использовано в связи с заключением какого-либо контракта или обязательства.

Ничто в данной белой книге не составляет предложение о продаже или призыв к приобретению любых обсуждаемых здесь токенов. В любом случае, если бы данную белую книгу считали таким предложением или призывом, данная белая книга не предполагает и не передает такого предложения или призыва в любой юрисдикции, где это незаконно, где такое предложение или призыв потребовали бы лицензии или регистрации, или где такое предложение или призыв подлежат ограничениям. В частности, обсуждаемые здесь токены не были, и на дату выпуска данной белой книги не предполагается, зарегистрированными среди ценных бумаг или аналогичных инструментов любой юрисдикции, независимо от того, считает ли такая юрисдикция такие токены ценными бумагами или аналогичным инструментом, и их нельзя предлагать или продавать в любой юрисдикции, где это составило бы нарушение соответствующего законодательства такой юрисдикции. Не покупайте никакие токены, если вы не готовы потерять всю сумму покупки. Это высокорисковая покупка, и вам маловероятно окажется защита, если что-то пойдет не так.

## Лицензия

Эта белая книга доступна по лицензии [Creative Commons Attribution-ShareAlike 4.0 International](https://creativecommons.org/licenses/by-sa/4.0/).

## Введение
Современный Интернет в основном состоит из проектов с открытым исходным кодом и был таковым с момента своего зарождения. Проекты с открытым исходным кодом разрабатываются и поддерживаются благодаря сотрудничеству глобальных сообществ разработчиков, и их исходные коды доступны для использования всеми как общественное благо. За последние 80 лет (обычно [считается](https://archive.org/details/historyofmodernc00ceru), что первый пример свободного и программного обеспечения с открытым исходным кодом был выпущен в 1953 году), открытое программное обеспечение развивалось от продукта узких специалистов в области технологий до инфраструктуры, на которой строились все инновации. Несмотря на важность открытого программного обеспечения, разработчики, создающие и поддерживающие кодовую базу как общественное благо, не получают никакой обмениваемой ценности за свой огромный вклад в качестве инноваторов и сотрудников технической поддержки.

Программное обеспечение для предприятий, стоимость которого превратилась в многомиллиардную индустрию, построено на фундаменте, заложенном открытым программным обеспечением. Тем не менее, почти нет обратной передачи ценности тем людям, которые бескорыстно поддерживают его основы. И хотя с его помощью заработаны состояния, открытое программное обеспечение в основном создается и поддерживается как общественное благо, без реальных средств для разработчиков захватывать созданную ими ценность.

Мы считаем, что потенциал современного интернета ограничивается тем, что мы полагаемся на небольшой процент инженеров мира для поддержки открытого программного обеспечения, исключительно по чисто альтруистическим мотивам. Открытое программное обеспечение - это труд любви, который часто тормозится из-за отсутствия значимых стимулов для основных сотрудников. Разработчикам с открытым исходным кодом приходится выбирать между работой, которая обеспечивает достойное существование, и поддержанием самой основы предприятий. Отсутствие стимулов приводит к тому, что действительно ценные проекты никогда не раскрывают свой потенциал, а другие сталкиваются с проблемами безопасности из-за недостаточной поддержки на протяжении жизненного цикла программного обеспечения. Для полного раскрытия потенциала открытого программного обеспечения нам нужен универсальный метод оценки "справедливой стоимости" проектов с открытым исходным кодом, который позволит разработчикам захватывать созданную ими ценность, облегчая приток капитала в сообщество с открытым исходным кодом, не изменяя при этом основных принципов разработки и использования открытого программного обеспечения.
Часто предприятия создают бизнес-модели на основе открытого программного обеспечения, получая доход напрямую от работы бескорыстных разработчиков, а также полагаясь на них для исправления ошибок по мере их возникновения. Открытые программные обеспечения предоставляют ключевую функциональность "включи и играй" для предприятий; однако уязвимости программного обеспечения могут представлять огромный риск для приложений, построенных на основе открытого программного обеспечения. Отличным примером является недавнее событие, связанное с критической уязвимостью безопасности в Log4j, пакете от [Apache Software Foundation](https://www.apache.org/), который нашел свое применение во многих коммерческих программных продуктах и услугах, используемых предприятиями и правительствами. В ноябре 2021 года исследователь по безопасности, работающий в [Alibaba Group Holding Ltd.](https://www.alibabagroup.com/) сообщил о уязвимости [CVE-2021-44228](https://nvd.nist.gov/vuln/detail/CVE-2021-44228), которая получила наивысший возможный базовый балл от Apache Software Foundation. Амит Йоран, генеральный директор компании [Tenable](https://www.tenable.com/) и основатель и. о. директора Службы готовности компьютеров Соединенных Штатов (US-CERT), охарактеризовал эту уязвимость как "[самую крупную и наиболее критическую уязвимость за последнее десятилетие](https://www.reuters.com/article/usa-cyber-vulnerability-idCNL1N2SY2PA)". Возникла паника, и немногие добровольцы, поддерживавшие этот пакет, подверглись публичной критике за сбой. После того как было удовлетворено возмущение с просьбой о справедливости, системы были обновлены. Предприятия и правительства в конечном итоге осознали, что Log4j, пакет, используемый в широком спектре критических систем уже два десятилетия, поддерживается всего несколькими неоплачиваемыми добровольцами - теми же неизвестными героями, которые, несмотря на [насмешки со стороны индустрии](https://twitter.com/yazicivo/status/1469349956880408583), неутомимо трудились над устранением уязвимости.

К сожалению, Log4j далеко не единственный пример. core-js скачивается 30 миллионов раз в неделю как база для каждого приложения Node.js, но он также едва ли финансируется, что потенциально заставляет его основного сопровождающего [покинуть проект или даже изменить лицензию на закрытую](https://www.thestack.technology/core-js-maintainer-denis-pusharev-license-broke-angry/). Недавно несколько разработчиков Bitcoin Core ушли в отставку, указав, среди прочих причин, на отсутствие финансовой компенсации за свое решение.

![photo_2024-01-10_16-35-45](https://github.com/27Honey/white-paper/assets/113536872/41934399-75a4-488b-918a-46593ffcfff2)

Рисунок 1 – Зависимость – Источник: <a href="https://xkcd.com/2347/">https://xkcd.com/2347/</a></p></figcaption></figure> 

Было предпринято несколько попыток создания структур мотивации, обычно включающих спонсорство и системы вознаграждений. Спонсорство позволяет потребителям открытых исходных кодов пожертвовать средства на проекты, которые им нравятся. Однако представьте себе открытый исходный код как башню из кирпичей, где нижние уровни давно забыты, но все равно сопровождаются преданными инженерами и используются даже большим числом разработчиков. Обычно известны и получают спонсорство только проекты на вершине башни. Этот предвзятый выбор приводит к тому, что важные кирпичи, поддерживающие башню, не привлекают пожертвований, в то время как избранные проекты получают больше, чем им нужно. Системы вознаграждений позволяют потребителям проектов предлагать выплаты разработчикам за создание конкретных функций, что вознаграждает проекты только за выполнение действий, которые могут не соответствовать их интересам. И снова это касается только избранных проектов.

В tea мы видели слишком много проектов с открытым исходным кодом, страдающих от неудачных попыток поддержки сообщества с открытым исходным кодом, и сделали нашей миссией улучшить устойчивость и целостность цепочки поставок программного обеспечения, позволив разработчикам с открытым исходным кодом захватывать созданную ими стоимость.

В этой статье мы предлагаем tea - децентрализованную систему для

1. вычисления и назначения "[Доказательства вклада](white-paper-ru.md#Доказательство-вклада)" каждому проекту с открытым исходным кодом относительно всей экосистемы,
2. обеспечения хорошего сопровождения проектов с открытым исходным кодом,
3. предоставления разработчикам с открытым исходным кодом справедливых вознаграждений, пропорциональных их вкладу в экосистему, с помощью реализации алгоритма мотивации tea для каждой записи в реестре tea, и
4. мотивации участников сети следовать практикам ответственного раскрытия уязвимостей и ошибок.

## Компоненты

Разработчику программного обеспечения, создающему приложение, необходимы четыре вещи: браузер, терминал, редактор и менеджер пакетов. Из этих четырех компонентов менеджер пакетов контролирует инструменты и фреймворки, необходимые разработчику для создания своего продукта. Именно на этом уровне мы видим потенциал изменить способ обеспечения безопасности и вознаграждения в мире open-source.

## Менеджер пакетов

Менеджер пакетов знает, от какого открытого программного обеспечения зависит пакет или приложение, чтобы оно функционировало, начиная от верхнего уровня башни и заканчивая её основанием. Каждый проект, вместе с каждой упакованной версией, детально документирует все необходимые компоненты и их соответствующие версии.

Он знает, что верхний уровень башни тщательно выбирает свои зависимости, и эта тщательная выборка продолжается вниз. Менеджер пакетов уникально расположен в стеке инструментов разработчика для автоматизации и точного распределения стоимости на основе реальных вкладов.

Мы предлагаем неизменный децентрализованный реестр, разработанный для распределения стоимости на основе уникального алгоритма "Доказательство вклада" протокола tea, который определяет вклад каждого проекта и его влияние на полезность и здоровье системы. Стоимость может входить в граф в верхних точках, таких как основные библиотеки, и распределяться на зависимости этих пакетов и их зависимости рекурсивно, поскольку реестр знает всю открытую структуру зависимостей.

Кроме того, мы считаем, что информация, предоставляемая протоколом "Доказательство вклада", должна быть доступна разработчикам для оценки того, могут ли они доверять проекту и его автору. Эта информация может быть основана на репутации, похвалам сообщества, данным, полученным из  децентрализованных идентификаций систем ("[DID](https://www.w3.org/TR/did-core/)"), другим менеджерам пакетов или механизмам поощрения, которые, возможно, зависят от участников сети, ставящих стоимость на кон.

Мы предсказываем, что комбинация инструментов, информации и вознаграждений tea справедливо стимулирует разработчиков, помогая обеспечивать цепочку поставок программного обеспечения, стимулируя рост открытого программного обеспечения и содействуя инновациям.

## Децентрализованный реестр

Каждый менеджер пакетов имеет свой собственный реестр пакетов, повторяя одни и те же метаданные многократно. В некоторых случаях этот реестр может включать [информацию, отличающуюся от описания проекта](https://www.bleepingcomputer.com/news/security/npm-ecosystem-at-risk-from-manifest-confusion-attacks/), что позволяет потенциальным злоумышленникам внедрять зловредный код без ведома пользователя. Пришло время создать единый, всеобъемлющий и окончательный реестр, разработанный и управляемый сообществами, которые от него зависят. Этот децентрализованный и неизменный реестр может обеспечить безопасность, стабильность и предотвратить злонамеренные действия.

Интернет работает на десятках тысяч важных компонентах с открытым исходным кодом. Удивительно, что до сих пор инциденты, вызванные удалением существенной инфраструктуры с открытым исходным кодом, были минимальными. Самым известным случаем было [удаление зависимости NPM left-pad](https://www.theregister.com/2016/03/23/npm\_left\_pad\_chaos/) в 2016 году, что привело к проблемам в системах непрерывной интеграции и непрерывного развертывания, оставив разработчиков без поддержки на несколько дней. Это событие продемонстрировало, что сам Интернет построен на хрупких системах разработки. Другие примеры включают активное или умышленное участие самих разработчиков в саботаже их популярных пакетов (см. [colors.js и faker.js](https://fossa.com/blog/npm-packages-colors-faker-corrupted/), а также [node-ipc](https://www.lunasec.io/docs/blog/node-ipc-protestware/) ), а также действия злоумышленников, пытающихся заработать, притворяясь помощниками по поддержке пакетов и коррумпируя их, чтобы украсть, например, закрытые ключи Bitcoin (см. [event-stream](https://github.com/dominictarr/event-stream/issues/116)), или злонамеренные пакеты с умышленными опечатками, также известными как "[typosquatting](https://en.wikipedia.org/wiki/Typosquatting)", в надежде обмануть пользователей и заставить их устанавливать их, например, [crossenv по сравнению с cross-env NPM packages](https://blog.npmjs.org/post/163723642530/crossenv-malware-on-the-npm-registry.html).

Целостность программного обеспечения должна быть гарантирована по мере развития индустрии в направлении будущего, где цифровые активы являются частью программного обеспечения. Мы не можем продолжать оставаться уязвимыми перед злонамеренными акторами, модифицирующими программное обеспечение.

Большинство инструментов, которые мы называем менеджерами пакетов, не могут гарантировать, что эти пакеты, встроенные в приложения и dApps, представляют собой неизмененный открытый исходный код, опубликованный их оригинальными авторами. Компания [Microsoft GitHub выяснила, что 17% уязвимостей в программном обеспечении были специально внедрены с злонамеренными целями](https://www.zdnet.com/article/open-source-software-how-many-bugs-are-hidden-there-on-purpose/), и некоторые из них оставались незамеченными в течение длительного времени (см. [Webmin 1.890](https://threatpost.com/backdoor-found-in-utility-for-linux/147581/)).

Глобальный децентрализованный реестр, дополненный системой репутации и поддерживаемый инцентивами, разработанными для выявления злонамеренных акторов и вознаграждения добросовестных, может предоставить те гарантии, которые сообщества разработчиков искали для обеспечения безопасности поставки программного обеспечения.

## Система хранения

Открытые проекты разрабатывают широкий спектр функциональности, часть из которой может быть ограничена или нежелательна. Шифрование - отличный пример. Критический случай использования шифрования - это поддержка конфиденциальности граждан по всему миру. Тем не менее, шифрование также может использоваться в злонамеренных целях (см. [Phantom Secure](https://www.fbi.gov/news/stories/phantom-secure-takedown-031618), ликвидированный правоохранительными органами в марте 2018 года) или может быть скомпрометировано для поддержки деятельности правоохранительных органов (см. [Операция Ironside (AFP), Операция Greenlight (Europol) и Операция Trojan Shield (FBI), где ФБР](https://www.europol.europa.eu/media-press/newsroom/news/800-criminals-arrested-in-biggest-ever-law-enforcement-operation-against-encrypted-communication) использовало "зашифрованную" коммуникационную платформу AN0M и убедило преступников использовать ее для безопасной связи).

Широкий спектр применения шифрования сделал его отличным случаем использования открытого программного обеспечения и отличным примером того, что любое решение, которое хранит пакеты, должно быть защищено от вмешательства и устойчиво к цензуре. Протокол tea является децентрализованным и не намеревается фильтровать или санкционировать пакеты на основе их функциональности. Хотя управление tea может решить удалить доказанные злонамеренные пакеты (см. [раздел об управлении](white-paper-ru.md#Управление) для получения дополнительной информации), важно, чтобы система tea взаимодействовала с несколькими системами хранения, включая децентрализованные, демонстрирующие, что пакет не изменен и правильно реплицирован. Содействие поддержанию пакетов могут выбирать систему хранения, наилучшим образом подходящую для их потребностей в безопасном хранении и распространении пакетов.

## Обзор протокола

Создание протокола для вознаграждения вкладов в открытые исходные проекты представляет собой серьезное испытание. Открытые исходные проекты, будучи универсально доступными, подвержены неправильному приписыванию, присвоению и злонамеренным вмешательствам. Однако сообщество открытых исходных проектов последовательно продемонстрировало готовность выявлять хороших и плохих актеров. Исторически энергия, затрачиваемая на рецензирование и комментирование вкладов других разработчиков, была строго добровольной, несмотря на то, насколько времязатратными и важными могут быть обнаружение и защита результатов.

Мы намерены создать децентрализованный протокол, обеспеченный репутацией и стимулами, который повысит устойчивость и целостность цепочки поставок программного обеспечения, позволяя разработчикам открытых исходных проектов захватывать созданную ими ценность в недоверчивом режиме. Мы считаем, что адекватное вознаграждение за вклад в открытые исходные проекты не сможет преуспеть без как системы репутации, так и возможности членам сообщества выражать свои результаты и поддерживать (или отвергать) проект или работу разработчика. Кроме того, мы должны предоставить разработчикам инструменты для доступа и вклада в эту систему репутации. Инструменты, которые включают простой визуальный и программный доступ к версии и репутации всех зависимостей в их проектах.

Прозрачность в отношении TEA-токенов, стейкнутых членами сообщества для поддержки каждого проекта, повышает репутацию каждого проекта, подобно тому, как количество токенов, которые пакетный поддерживающий стейкнул на свою работу, сигнализирует о его приверженности. Эти объединенные точки данных помогут создать систему репутации для всех членов сообщества и облегчить выбор. Поскольку [взлом пакета event-stream](https://medium.com/intrinsic-blog/compromised-npm-package-event-stream-d47d08605502) не был проведен через сам пакет, а через одну из его зависимостей, видимость на всех уровнях зависимостей будет жизненно важна для построения этой недоверчивой системы. Однако при проектировании и создании системы придется приоритизировать соображения, такие как вычисления и транзакции («газ»).

Нашей целью является вознаграждение как разработчиков Web 2.0, так и web3. Сложности и особенности каждого стека делают так, что отслеживание установок пакетов может легко стать жертвой одного или нескольких злонамеренных актеров. Это включает в себя "покупку" установок для искусственного надувания чисел. Еще хуже было бы внедрение фундаментальных изменений в характер открытого программного обеспечения путем создания избыточных трений с лицензионными ключами или другими механизмами отслеживания развертывания. Для обеспечения наибольшего охвата мы считаем, что вознаграждение не должно зависеть от упрощенной концепции отслеживания установок, а должно основываться на механизмах стимулирования, которые поощряют представление качественных пакетов и сообщение о злонамеренных или высокорискованных пакетах. Наконец, многие пакеты зависят от общих зависимостей. Например, у [lodash](https://www.npmjs.com/package/lodash) есть 176 308 зависимостей с открытым исходным кодом, в то время как у [chalk](https://www.npmjs.com/package/chalk) их 100 247, а у [log4js](https://www.npmjs.com/package/log4js/) - 3 809. Как обеспечить справедливое и равное распределение вознаграждений по мере создания все большего количества пакетов? Как обеспечить, чтобы наиболее используемые зависимости получали вознаграждение, не лишая новые или развивающиеся пакеты и разработчиков? Как обеспечить, чтобы система стимулирования не приводила разработчиков в сторону нишевых языков, чтобы сосредотачивать их там, где стимулы лучше? Но также как разработчики, как мы можем определить пакеты с наибольшим числом зависимых, чтобы создать альтернативы - более легкие, более эффективные, лучше написанные версии этих пакетов?

В tea мы считаем, что недостаток видимости и стимулов препятствовал развитию открытого программного обеспечения. Поддерживаемые правильными стимулами и вознаграждениями больше разработчиков будут в состоянии строить, улучшать и расширять открытое программное обеспечение для блага мира.


### Доказательство вклада

В данной белой бумаге мы предлагаем механизм "Доказательство Вклада" (Proof of Contribution), новый механизм консенсуса, разработанный для количественной оценки влияния всех проектов во всех системах с открытым исходным кодом.

Доказательство Вклада присваивает динамический балл, называемый teaRank, каждому проекту с открытым исходным кодом на основе его ориентации и использования в более широкой системе с открытым исходным кодом в течение времени.

Мы считаем, что такой подход приносит пользу базовому программному обеспечению, далекому от прикладного уровня (который обычно самый видимый для общественности и привлекает больше интереса), и расширяет механизм вознаграждения, чтобы обеспечить вознаграждение для всех компонентов проекта — от верхушки дерева до его основания — за их вклад.

Для расчета балла каждого проекта teaRank использует основу, заложенную алгоритмом [Google PageRank](https://en.wikipedia.org/wiki/PageRank). PageRank от Google является ключевым компонентом поисковой системы и строится на структуре веб-страниц, которую можно представить в виде графа. PageRank, по сути, является алгоритмом вероятностного распределения, который присваивает баллы узлам в графе, представляя вероятность того, что случайное перемещение по графу приведет к конкретному узлу. Этот алгоритм особенно эффективен в структуре данных, напоминающей граф, такой как интернет, потому что он количественно оценивает влияние каждого узла (или веб-страницы) на основе количества и качества связей (ссылок) на нее. Этот алгоритм был впоследствии изменен для более точного определения топологии веба и выявления фальшивых ссылок между веб-страницами, что позволяет предотвращать различные виды атак.

Однако, при ближайшем рассмотрении структуры графа интернета и децентрализованного реестра tea Protocol оказалось, что стратегии против спама PageRank менее эффективны, когда их применяют к открытому исходному коду.

Основное различие заключается в метаданных программного обеспечения с открытым исходным кодом. В отличие от веб-страниц, большинство метаданных открытых пакетов, таких как строки кода и сообщения о коммитах, создаются пользователями и подвержены подделке. Реестры пакетов могут быть уязвимыми для спам-кампаний, когда злоумышленники засоряют реестр пакетов пакетами, содержащими фишинговые ссылки или другой вредоносный контент. Реестры менеджеров пакетов также могут некорректно отражать зависимости конкретных проектов. Эта проблема, известная как "[путаница в манифесте](https://www.bleepingcomputer.com/news/security/npm-ecosystem-at-risk-from-manifest-confusion-attacks/) ", может позволять злоумышленникам внедрять вредоносный код или искусственно увеличивать влияние зависимостей от сторонних поставщиков, часто во вредоносных целях.

Трудная задача выявления и борьбы с такими спам-пакетами обычно лежит на плечах фирм по информационной безопасности или альтруистично настроенных лиц, ни одно из которых не предлагает масштабируемого решения для борьбы со спам-атаками в открытых исходных кодах.

Алгоритм "Доказательство Вклада" (Proof of Contribution) специально разработан для выявления и изоляции спам-пакетов и обеспечения того, чтобы справедливую награду получали только влиятельные проекты. Подробности алгоритма "Доказательство Вклада" будут предметом отдельной технической статьи.

### Участники сети

В этом официальном документе мы различаем участников по их вкладу. Некоторые могут вносить вклад в код или проверять предоставленный код. Другие могут поддерживать разработчиков и их репутацию.

#### Управляющие пакетами 

tea предполагает, что создатели пакетов поддерживают свою работу. В этой белой книге мы будем называть их "управляющими пакетами".

Управляющие пакетами должны обеспечивать продолжение развития своего программного обеспечения, чтобы оно приносило все большую ценность по мере развития отрасли. Они являются опорой сообществ с открытым исходным кодом, которые должны быть поддержаны и вознаграждены за свой непрерывный вклад. Однако управляющий пакетом может решить прекратить усилия по поддержке или понять, что не может работать с тем же темпом, который ожидают пользователи проекта. Для обеспечения непрерывности им необходимо иметь возможность передать управление своим проектом другому разработчику или группе разработчиков, назначив их управляющими и предоставив им права собственности и контроля над текущими и будущими вознаграждениями, связанными с проектом.

Точно так же разработчик может решить взять на себя роль управляющего пакетами, форкнув существующий проект и зарегистрировав новый, который он будет поддерживать в дальнейшем, тем самым став управляющим пакетами. После регистрации проекты, teaRank которых превышает установленный порог управления, начинают получать вознаграждение от протокола tea через алгоритм Proof of Contribution протокола, параллельно с наследственным форкнутым проектом. По мере того как сообщество с открытым исходным кодом отходит от проекта-наследника в пользу его более новой итерации, алгоритм Proof of Contribution постепенно уменьшает вознаграждение, выделяемое для наследственного проекта, увеличивая те, которые присваиваются новому форкнутому проекту.

Необходимо предоставить сообществам разработчиков правильные инструменты для определения, какие проекты поддерживаются, и репутации и качества работы их прошлых и нынешних разработчиков. Мы слишком часто видели, как работу с открытым исходным кодом вмешивались плохие актеры, и усилия многих были разрушены. Хотя действия этих злоумышленников в большинстве случаев обнаруживаются и устраняются, это часто происходит не раньше, чем нанесены значительные ущербы в виде финансовых или потери данных. Возьмем, к примеру, [пакет npm event-stream](https://medium.com/intrinsic-blog/compromised-npm-package-event-stream-d47d08605502), который загружался более 1,5 миллиона раз в неделю и использовался более чем 1500 пакетами. Когда хакер смог взломать проект с открытым исходным кодом, завоевать доверие его первоначального автора и изменить event-stream, чтобы зависеть от злонамеренного пакета, который отправлял учетные данные кошелька Bitcoin на сервер третьей стороны. Несмотря на то что инструменты могут помогать выявить некоторые из таких атак, на них нельзя всегда полагаться, что создает целое сообщество, зависящее от бдительности и готовности делиться своими находками друг с другом.

Мы предлагаем внедрить стимулы с использованием токена TEA, о котором подробно рассказано в разделе "[Токен TEA](white-paper-ru.md#tea-токен)", чтобы побуждать сообщества с открытым исходным кодом конструктивно сообщать о своих находках, чтобы сами разработчики могли их устранить до того, как они будут использованы. 

#### Пользователи пакетов и участники сообщества tea

"Пользователи пакетов" - это разработчики программного обеспечения, сосредоточенные на решении конкретных задач. Они часто обращаются к сообществу с открытым исходным кодом, чтобы найти инструменты, необходимые для быстрого экспериментирования и итерации с минимальными затратами, прямо используя работу разработчиков пакетов.

С более чем 10 миллионами пакетов, доступных через 30 самых популярных менеджеров пакетов, отсутствие универсальной атрибуции ценности проектам с открытым исходным кодом может превратить выбор безопасных и эффективных пакетов для разработки в рискованное и трудоемкое занятие. Если нет явных средств атрибуции и измерения ценности, как пользователи пакетов могут эффективно выбирать безопасные пакеты для своих разработок?

Мы считаем, что алгоритм Proof of Contribution протокола tea, в сочетании с другими стимулами, может предоставить пользователям пакетов информацию, которая позволит им быстро и обдуманно выбирать основу для своего собственного проекта.

#### Поддерживающие проект

В Web 2.0 и web3 подмножество пользователей пакетов, часто называемых "спонсорами", выбрало поддержку разработчиков пакетов через пожертвования или другие формы вознаграждения; однако это было редким явлением.

Эти "поддерживающие проекты" - это организации или пользователи проектов с открытым исходным кодом, использующие программное обеспечение с открытым исходным кодом для создания своих коммерческих продуктов, филантропы, стремящиеся поддержать экосистему, или предприниматели, желающие финансировать команды для разработки компонентов более крупной системы.

Протокол tea предлагает расширить сообщества поддерживающих проектов с открытым исходным кодом на всё сообщество tea, включая организации, разработчиков, пользователей и технических энтузиастов. Цель tea - внедрить децентрализованные стимулирующие механизмы через уникальные кейсы использования токена TEA для любого участника сообщества tea, чтобы способствовать постоянной устойчивости и непрерывному росту проектов с открытым исходным кодом. Поддерживающие проекты вольны решать, какие проекты или разработчиков пакетов они хотят поддерживать на основе их работы, убеждений или любых критериев и метрик, которые могут повлиять на их решение. Кроме того, поддерживающие проекты вольны решать, как они хотят поддерживать эти проекты.

Спонсорство может быть эффективной системой для поддержки разработки с открытым исходным кодом; однако эти спонсорства обычно не распространяются на все зависимости. Это ограничение приводит к выгоде для избранных и мешает инновациям и созданию программного обеспечения. Чтобы быть основой разработки программного обеспечения, open-source должен давать возможность всем разработчикам, будь они начинающими или экспертами, на всех уровнях в этой иерархии.

Для укрепления устойчивости и целостности цепочки поставок программного обеспечения и обеспечения возможности разработчикам с открытым исходным кодом получать вознаграждение за их вклад, tea стремится установить механизмы, при которых поддержка будет распространяться на все аспекты проекта. Поддержка от спонсоров будет распространяться через зависимости проекта, от вершины до основания дерева. Это неявно означает доверие к способности разработчика пакета принимать обоснованные решения относительно его стека, тем самым улучшая его репутацию.

![figure-2](https://github.com/27Honey/white-paper/assets/113536872/7d881f77-5685-4ce9-8613-e8c2da5ed1db) 
Рисунок 2. Распределение вознаграждений по зависимостям</p></figcaption></figure>

#### Tea тестировщики 

При выпуске новых проектов или новых версий существующих проектов необходимо явно доказать действительность работы. Эта информация критически важна для пользователей пакетов, чтобы решить, могут ли они доверять пакету и его сопровождающим. В рамках протокола tea эта функция предоставляется "tea тестировщик".

Tea тестировщики, как правило, являются опытными разработчиками программного обеспечения, готовыми уделить некоторое время для проверки утверждений, связанных с пакетом (функциональность, безопасность, [семантическое версионирование](https://semver.org/), точность лицензии и др.) и стейкают как свою репутацию, так и токены TEA, чтобы продемонстрировать результаты своих исследований и поддержать свои обзоры. В протоколе tea "стейкать свои TEA" - это процесс блокировки токенов TEA для поддержки ваших обзоров, который может потенциально принести вознаграждение или повлечь за собой штрафы в зависимости от консенсуса о качестве ваших обзоров. Tea тестировщики также имеют возможность конфиденциально сообщать менеджерам пакетов об ошибках или уязвимостях. Действительные отчеты приводят к вознаграждению из казны проекта, в то время как недействительные отчеты влекут за собой утрату стейка tea тестировщика. Наконец, если сопровождающие пакета игнорируют эти сообщенные проблемы, это приводит к штрафам, или "slashing", для казны проекта.

Как и спонсоры проектов, tea тестировщики могут влиять на репутацию проекта и сопровождающего пакет; однако их влияние более значительно, учитывая их роль в проверке безопасности, функциональности и качества проекта. Tea тестировщики также нужно будет создать свою репутацию, чтобы поддерживать свои утверждения. Качество их работы и токены TEA, которые они рискуют, ставя на кон свои обзоры, в сочетании с другими внешними источниками данных, будут формировать репутацию каждого tea тестировщика, придавая большую ценность их работе. См. раздел "[Репутация пакета и менеджера пакета](white-paper-ru.md#Репутаця-пакета-и-менеджера-пакета)" для получения более подробной информации о механизмах, используемых для влияния на репутацию проекта и сопровождающего пакета.

### Регистрация проекта и вознаграждение за подтверждение вклада

Регистрация выпуска проекта требует одновременного выполнения нескольких транзакций. Конкретно:

* Менеджер пакета должен зарегистрировать проект в децентрализованном реестре,
* Протокол TEA должен создать казну проекта, которая будет принадлежать, управляться и настроена менеджерами пакетв в соответствии с правилами, установленными менеджером пакета, и
* Протокол TEA должен зарегистрировать уникальное имя казны в Ethereum Naming Service, или ENS, тем самым упрощая все взаимодействия пользователей с казной.
  
Сбой одной из операций приведет к откату протокола к предыдущему состоянию.

После успешной регистрации проекта с teaRank, превышающим установленный в правлении порог, протокол TEA начинает распределение наград за доказательство вклада на счет проекта. Мы предлагаем распределение этих наград по заранее установленной кривой из предопределенного пула токенов, управляемого протоколом TEA и выделенного из общего предложения токенов TEA.

Управляющими пакетами требуется укреплять репутацию и доверие к своему проекту, регулярно залагивая часть наград за доказательство вклада, полученных казной проекта. За каждый застейкан токен участники сети будут получать не передаваемый "застейканый TEA", или stTEA, в соотношении 1:1, чтобы участвовать в управлении протоколом tea. В соответствии с правилами протокола, эти заложенные награды и соответствующие им stTEA могут подвергаться уменьшению ("slashing") или перераспределению, если управляющие пакеты не справляются с ошибками или уязвимостями.

Наконец, невыполнение минимального уровня залога, установленного в правилах управления, приведет к приостановлению распределения наград за доказательство вклада на счет проекта. Вместо этого эти награды будут перераспределены среди совместимых проектов.

### Репутаця пакета и менеджера пакета

Система репутации, которая полагается исключительно на экономический вклад автора, не обеспечивает достаточной защиты пользователей и может подвергаться атакам Сибилл, при которых один человек создает несколько представлений о себе, чтобы оставить большое количество положительных отзывов о своей работе, вводя пользователей в заблуждение и заставляя их верить, что их работа была прорецензирована и одобрена многими.

Существует несколько методологий для предотвращения атак Сибилл, некоторые из которых описаны в работе Nitish Balachandran и Sugata Sanyal "[Обзор методов борьбы с атаками Сибилл](https://arxiv.org/abs/1207.2617/)". Поскольку tea является децентрализованным протоколом, использование системы доверительных сертификатов, которая полагается на централизованный орган выдачи сертификатов, противоречит его основам. Мы предлагаем сосредоточиться на децентрализованных подходах к предотвращению атак Сибилл и, более конкретно, на методологиях, которые полагаются на большую группу участников сети, мотивированных оценивать и публично представлять репутацию каждого пакета и его управляющего.

Аналогично созданию блоков в блокчейне с подтверждением доли, где непроизводящие узлы могут проверять работу других и, при необходимости, выявлять нарушение правил сети, что приводит к наказанию злоумышленника путем снижения (уничтожения части его доли), мы предлагаем систему, согласно которой сторонние лица, такие как tea тестер, смогут рецензировать пакеты, созданные управляющими пакетами, и будут стимулированы действовать в интересах сообщества с открытым исходным кодом и его пользователей, а также признавать хорошее поведение и наказывать плохое поведение. Эта система должна быть устойчивой к атакам Сибилл и предотвращать влияние крупных держателей токенов на протокол или репутацию конкретных пакетов. Мы считаем, что этот подход более соответствует открытому исходному коду, предоставляя более плодородное почву для его принятия и доверия, и в конечном итоге содействует росту tea.

Кроме того, по мере достижения репутации любым членом сообщества tea ключевых вех, им может быть предоставлен доступ к повышенным частям протокола.

### Рецензирование пакета третьими сторонами

Обзор пакетов третьими сторонами представляет собой важный компонент формирования репутации и обеспечения безопасности цепочки поставки программного обеспечения. Тем не менее, обзоры третьими сторонами сопряжены с собой набором уникальных угроз, включая упомянутые выше атаки типа Sybil.

Технология блокчейн и, более явно, стейкинг, предоставляют уникальную возможность tea решить эту проблему. Несмотря на то, что адреса кошельков могут быть доступны в неограниченных количествах, это не относится к токенам TEA, общее количество которых ожидается составить 10 миллиардов. Кроме того, каждое действие, выполненное разработчиками, такое как представление, проверка или стейкинг пакетов, будет способствовать формированию их репутации, создавая уникальный профиль, который каждый разработчик может использовать как для участия в сообществе tea, так и для участия в управлении протоколом tea.

Требуя от обзорщиков третьими сторонами стейкинг токенов TEA и подвергая риску потерю части своего стейка, если они окажутся вредоносными для сети или будут действовать в интересах сети, третьи стороны могут придать дополнительную значимость пакету и получить награду в виде токенов TEA.

Мы также предлагаем расширить систему репутации на третьи стороны, которые проводят независимую проверку пакетов - tea тестер. Завершение положительного обзора потребует проведения двух операций атомарно:

* Представление обзора кода, подписанного tea тестер и доступного для всех членов сообщества, а также
* Действие по стейкингу пакета для подтверждения их обзора.
  
Завершение отрицательного обзора, который включает в себя одну или несколько критических уязвимостей, потребует от tea тестировщика сначала связаться с сопровождающим пакета с использованием протокола обмена сообщениями, чтобы уведомить их о наличии уязвимости и дать им возможность вовремя ее устранить. По истечении времени, определенного в правилах управления, выделенного сопровождающему пакета для устранения уязвимости, или когда исправленный пакет станет доступен, тот же протокол обмена сообщениями будет использоваться для уведомления пользователей и тестеров этого пакета (включая зависимых), что уязвимость была выявлена и, возможно, устранена, так что они знают, что нужно обновить свое приложение или зависимости. Чтобы отразить дисинцентивацию тратить время разработчиков, общение между tea tasters и сопровождающими пакета потребует стейкинга токенов TEA.

После завершения обеих операций tea tasters получат NFT в качестве подтверждения своей работы над конкретным пакетом и версией пакета. Накопление NFT, а также соотношение стейкинга каждого из обзоров пакетов и информация, извлечен

### Устаревшие или скомпрометированные пакеты 

Миссия tea заключается в усилении устойчивости и целостности цепочки поставок программного обеспечения, позволяя разработчикам с открытым исходным кодом получать вознаграждение за созданную ими ценность; однако вознаграждение должно соответствовать усилиям, которые прилагают управляющие пакетами и tea tasters. Недостаточно поддерживаемые, устаревшие или поврежденные пакеты четко указывают на то, что управляющие пакетами не соответствуют ожиданиям сообщества или не выполняют доверие и поддержку, оказанные им через стейкинг пакетов. Другим проявлением устаревших пакетов может быть продолжительное использование устаревшего языка или устаревшей версии языков с множественными версиями. Пакеты, оставшиеся устаревшими или поврежденными слишком долго, указывают на то, что tea tasters должны регулярно и последовательно проверять работу управляющих пакетами.

tea tasters играют ключевую роль в сообществах с открытым исходным кодом, поскольку их обзоры и связанные с ними утверждения могут влиять на пользователей пакетов, направляя их к конкретным пакетам или отводя от них. Для обеспечения долгосрочного доверия к обзорам мы предлагаем механизм, согласно которому обзоры, размещенные tea tasters, должны быть связаны с стейками TEA токенов. Устаревшие или поврежденные пакеты могут быть подвержены частичному снижению их казны, а другая часть отправится к tea taster, который первым заметил отсутствие поддержки любого пакета.

По мере того как пакеты становятся популярными и используются в большем объеме, с разработчиков необходимо поощрять скрыто сообщать об ошибках управляющему пакетами и поощрять управляющих пакетами устранять такие недостатки до их эксплуатации. В этой связи мы предлагаем, что любой негативный обзор, в котором указывается недостаток, такой как уязвимость нулевого дня или использование устаревшей зависимости и остается открытым после срока, определенного правилами управления, должен рассматриваться как сбой со стороны управляющего пакетом и подлежит тем же наказаниям, при этом первому tea taster, который сообщил о недостатке, будет предоставлена часть сокращенных токенов.

То же самое можно сказать и о поддерживающих пакеты, которые стейкали свою репутацию и TEA токены на работу просроченных управляющих пакетами и получали за это вознаграждение. Поскольку они не смогли выявить отсутствие поддержки или решили продолжать поддерживать пакет независимо от этого, мы предлагаем, чтобы все операции по снижению распространялись на поддерживающих пакеты.

Распределение между всеми tea tasters может основываться на возрасте их обзора и количестве TEA токенов, которые они стейкали для своего обзора.

## TEA Токен

TEA - это криптографический токен, который служит в качестве ключа доступа к определенным частям и определенным функциям протокола TEA.

Держатели токенов TEA имеют возможность:

* Регистрировать свои пакеты;
* Поддерживать пакеты, стейкая токены TEA для конкретных пакетов;
* Содействовать безопасности цепочки поставок программного обеспечения, оспаривая пакеты и проводя обзоры для выявления ошибок и/или уязвимостей.
  
Как обсуждалось, протокол TEA разблокирует экономику с открытым исходным кодом и создает ценность для строителей, сопровождающих и конечных пользователей корпоративного программного обеспечения. В конечном итоге, ценность, созданная протоколом TEA, поступает обратно к держателям токенов по мере масштабирования сообщества, создавая цикл обратной связи, который дополнительно стимулирует участие.

### Вознаграждение разработчиков в сфере открытого исходного кода
Мы ожидаем, что механизмы Proof of Contribution и стейкинга tea способствуют развитию открытого исходного кода, предоставляя его участникам необходимые ресурсы для свободной реализации своих идей.

Как описано в разделе "[Регистрация проекта и награды за Proof of Contribution](white-paper-ru.md#Регистрация-проекта-и-вознаграждение-за-подтверждение-вклада)", проекты, зарегистрированные в tea Protocol и имеющие teaRank, превышающий уровень, определенный правилами управления, будут получать награды в форме токенов TEA от tea Protocol. Эта дистрибуция будет продолжаться, пока проект будет соблюдать правила протокола. Конкретно, проект должен поддерживать teaRank выше определенного уровня, установленного управлением, и создатели проекта должны будут укреплять репутацию и доверие к своему проекту, непрерывно стейкая часть вознаграждения за доказательство вклада, полученного ими от казны проекта. Несоблюдение этих правил приведет к приостановлению распределения наград за доказательство вклада и перераспределению будущих наград среди соблюдающих правила проектов.

Зависимости могут значительно влиять на надежность и безопасность пакета, и отсутствие регистрации зависимостей пакета следует рассматривать как потенциальный риск. Специалисты по сопровождению пакетов, будучи одновременно валидаторами и пользователями этих зависимостей, имеют превосходную возможность связаться с сопровождающими этих зависимостей. Они могут побудить их зарегистрировать свои проекты в tea, что сделает их предметом контроля tea tasters и пригодными для связанных вознаграждений. Для поощрения такого общего участия, направленного на улучшение системы репутации, мы рекомендуем, чтобы любой пакет с зависимостями, не зарегистрированными в tea Protocol, видел, что доля его наград за доказательство вклада сжигается. Это сжигание будет пропорционально числу и вкладу, измеренному в teaRank, каждой незарегистрированной зависимости, и будет продолжаться до тех пор, пока эти зависимости не будут зарегистрированы.

Множество случаев продемонстрировало, что сильные стимулы могут подстрекать злонамеренных акторов компрометировать открытое программное обеспечение. Большинство критической инфраструктуры Интернета работает на открытом исходном коде, и гонка за поиск эксплойтов и других уязвимостей в самом разгаре. В tea мы считаем, что создатели пакетов не должны нести за это вину (хотя часто они и несут).

 ### Стейкинг для обеспечения безопасности the Software Supply Chain

Стейкинг может быть эффективной методологией для поддержки децентрализованной системы репутации. Однако для обеспечения безопасности цепи поставок программного обеспечения, система распределения поощрений TEA должна внимательно учитывать степень ставки для каждого пакета и соответствующим образом настраивать поощрения для каждого пакета.

Чтобы уменьшить риск того, что небольшое количество пакетов, используемых как зависимости во многих приложениях, соберет большую часть вознаграждений за ставку, мы рекомендуем внедрение оптимального коэффициента ставки, аналогично подходу, описанному в [исследовании, выпущенном Фондом web3](https://research.web3.foundation/Polkadot/overview/token-economics).

Когда пакет превышает оптимальное соотношение стейкинга, общая сумма стейкинг-наград, выделенная для пакета, останется неизменной, независимо от количества токенов TEA, заложенных в пакет. Эта мера разработана для снижения мотивации поддерживающих пакет и tea тестировщиков стейкинга в высоко стейкнутых пакетах и приведет к линейному уменьшению стейкинг-наград, получаемых каждым поддерживающим пакет.

Подход на основе кривой, подобный описанному в исследовании Фонда Web3, замедлил бы снижение стейкинг-наград, выделенных пакету, и продолжил бы уменьшение наград для менее стейкнутых пакетов, внося негативные внешние эффекты, предоставляя большее влияние крупным держателям токенов на распределение стейкинг-наград.

Рекомендуемый линейный дизайн должен сделать менее стейкнутые пакеты более привлекательными как для поддерживающих пакет, так и для tea еустировщиков. Он также может стимулировать опытных разработчиков создавать альтернативы высоко стейкнутым пакетам, создавая возможность для TEA сообщества балансировать поддержку существующего программного обеспечения и стимулировать инновации. В начальном дизайне соотношение стейкинга будет рассчитываться на основе обращающегося предложения. Чайное сообщество может изменить этот дизайн для дальнейшего улучшения масштабируемости системы.

Как хорошие участники проекта должны быть вознаграждены, так и плохих участников необходимо выявлять и наказывать. В открытом программном обеспечении существует много возможностей для плохих участников создавать проблемы и репутационные риски для всего сообщества разработчиков. Это может включать в себя незаконное использование чужой работы, изменение и распространение программных пакетов или внедрение злонамеренного кода. Борьба между хорошими и плохими участниками продолжается, часто с участием хорошо финансируемых плохих актеров, которые видят в загрязнении открытых программных пакетов возможность извлечь финансовую выгоду. Последствия этого были относительно невелики, часто сводясь к запрету на размещение программных пакетов в цифровых магазинах или к плохой репутации.

Чтобы напрямую бороться с злонамеренными актерами и ужесточить наказания за действия, противоречащие принципам открытого программного обеспечения, мы рекомендуем внедрить механизм "снижения стейкинга", подробно описанный в разделах "[Рецензирование пакета третьими сторонами](white-paper-ru.md#Рецензирование-пакета-третьими-сторонами
)" и "[Устаревшие или скомпрометированные пакеты](white-paper-ru.md#Устаревшие-или-скомпрометированные-пакеты)".

Поскольку tea тестировщики оценивают и анализируют код во вновь представленных пакетах, мы предлагаем предоставить им инструменты и стимулы для выявления и выделения злонамеренного кода, чтобы:

* пользователи пакетов могли быть осведомлены о рисках, и
* поддерживающие и создатели пакетов подвергались наказанию за представление или поддержку злонамеренного кода.

В этом контексте, для всех подтвержденных негативных обзоров, выполненных в соответствии с правилами сети и которые были учтены создателем пакета в пределах установленного срока управления, создатель пакета не должен нести никакого наказания, в отличие от поддерживающих пакет или tea тестировщиков, которые предоставили положительный обзор по этому пакету.

Для негативных обзоров, выполненных в соответствии с правилами сети и которые создатель пакета не учел в пределах установленного срока управления, часть TEA-токенов, заложенных в казну проекта, поддерживающими пакет и предыдущими tea тестировщиками, будет урезана и отправлена tea тестировщику, который выявил ошибку или уязвимость. Другая часть будет заблокирована в страховой пул, управляемый tea управлением. tea управление установит политики и правила в тесном сотрудничестве с сообществом для распределения содержимого пула среди тех, кто пострадал от уязвимостей. Протокол распределит третью часть урезанных TEA-токенов между всеми tea тестировщиками, которые внесли свой вклад в негативный обзор.

Staking и slashing - важные компоненты системы поощрения и наказания протокола tea. Создатели пакетов обязаны залагать часть средств из казны своего проекта, чтобы обеспечить существенный риск в случае игнорирования ошибок или уязвимостей. Пользователи пакетов, поддерживающие и чайные дегустаторы также могут ставить на стейки TEA-токены, чтобы внести свой вклад в репутацию пакета или создателя пакета и активно участвовать в протоколе для поддержания устойчивости и целостности цепочки поставок программного обеспечения.

Управление тесно связано с этим активным участием. За каждый стейкнутый токен TEA участники получают необоротные "staked TEA" (stTEA) в соотношении 1:1, что позволяет им участвовать в управлении протоколом tea. Стейкнутые награды и соответствующие им стейкнутые токены stTEA могут подвергаться сокращению (урезанию) или перераспределению, если не соблюдаются правила протокола, что усиливает ответственность в экосистеме.

### Распределение токенов TEA

Большинство токенов TEA, созданных протоколом, используются в качестве стимулов для поощрения создателей пакетов, пользователей и поддерживающих совершать действия, приносящие ценность децентрализованной сети. Распределение токенов TEA между различными заинтересованными сторонами в рамках протокола регулируется "графиком распределения".

Инцентивы сети будут распределяться непосредственно чайным протоколом в виде токенов TEA среди четырех групп участников:

* Создатели пакетов;
* Пользователи пакетов (включая всех членов tea сообщества);
* Поддерживающие проект;
* tea тестировщики

Токены TEA также будут использоваться для поддержки пакетов и обеспечения безопасности цепочки поставок программного обеспечения путем стейкинга, включая право проводить проверку пакета и сообщать об ошибках или уязвимостях, вознаграждать разработчиков открытых и зарегистрированных проектов, а также участвовать в управлении протоколом чая.

Рекомендуется распределить максимальную эмиссию токенов TEA в размере 10 миллиардов токенов среди всех участников чайного сообщества, как описано ниже:
![Token Allocation-Updated](https://github.com/27Honey/white-paper/assets/113536872/cd11573a-02d9-453e-963a-3acf4de2da22)
Рисунок 3 - Распределение токенов максимальной эмиссии</p></figcaption></figure>

Примерно 51,4% от максимальной эмиссии токенов должны быть выделены для "Экосистемы и Управления", что включает в себя стимулы для проектов с открытым исходным кодом для присоединения и поддержания своего кодовой базы, а также вознаграждения за участие в децентрализованных голосованиях и согласии через tea DAO. Токены, выделенные на "Экосистему и Управление", должны распределяться в качестве вознаграждений за доказанное участие, стейкинговые награды и другие виды стимулов для разработчиков.

Примерно 18,6% от максимальной эмиссии токенов должны быть выделены на "Разработку Протокола", чтобы обеспечить устойчивость и дальнейшее развитие протокола tea. Примерно 12,7% должны быть выделены для "Ранних Поддерживающих и Советников". Примерно 11,0% должны быть выделены для частной продажи, 3,0% - для публичной продажи, в то время как оставшиеся 3,2% должны быть выделены для поддержки ликвидности на рынке после события по созданию токенов.

Подробная информация о токеномике, включая подробное распределение токенов и график выпуска, будет предметом отдельной документации.

## Управление

Управление  имеет критическое значение для развития, устойчивости и принятия любой распределенной системы.

Мы предлагаем, чтобы протокол tea внедрил механизмы управления, которые позволяют активным участникам, владеющим стейкнутыми токенами TEA, предлагать и голосовать за важные параметры, не связанные с финансовыми изменениями. Процесс голосования будет взвешен владением токенами stTEA и репутацией каждого участника.

Параметры протокола могут включать в себя приоритет поддержки конкретных менеджеров пакетов, внедрение новых функций и возможностей протокола, а также влияние внешних факторов на репутацию пользователей и пакетов. Эта функциональность обеспечит возможность эволюции и оптимизации важных параметров с течением времени активными членами tea сообщества. Мы ожидаем, что управление будет запущено с простой структурой и постепенно расширится по мере зрелости системы tea, что способствует принятию и обеспечивает постепенную децентрализацию.

Некоторые параметры системы могут быть недоступны для управления или не подвергаться частым изменениям, чтобы уменьшить атаку на поверхность, представляемую управлением. Постепенный переход параметров к открытому, децентрализованному управлению обеспечит стабильность и предсказуемость системы.

## Расширяемость для сторонних участников

По мере создания начальных инструментов, которые должны привести к долгожданной поддержке открытых сообществ, мы считаем, что частью нашей миссии является обеспечение возможности сторонним участникам расширять общий набор инструментов. Помимо предоставления инфраструктуры разработчикам для создания расширений протокола, включая новые способы инноваций и поддержки разработчиков открытого исходного кода, наши планы включают потенциал для других менеджеров пакетов для внесения вклада в протокол.

Мечты и усилия разработчиков открытого исходного кода создали инновации, которые поддерживают нашу повседневную жизнь. Мы с нетерпением ждем возможности открыть новые применения и расширения для протокола tea, предложенные tea сообществом.

## Будущие работы и возможные усилия сообщества

По мере развития системы tea мы предвидим, что сообщество будет решать и вносить изменения и расширения в систему tea через управление. Ниже приведены некоторые идеи, которые, как мы считаем, могут вдохновить некоторых, однако мы не гарантируем будущую эффективность.

## tea Wholesalers

Сообщества с открытым исходным кодом всегда динамичны и постоянно ищут новые способы инноваций и достижения ценности. Эта преданность и альтруизм приводят к непрерывному созданию нового программного обеспечения и пакетов, каждый из которых использует зависимости. В результате мы ожидаем, что карта зависимостей будет постоянно изменяться, что приведет к частым изменениям в соотношении стейкинга и наград. В будущем tea сообщество может предложить разработку системы, предназначенной для динамического мониторинга стейкинг-соотношения для каждого проекта и перераспределения способа стейкинга токенов TEA для поддержки проекта на основе их собственных критериев.

## Роялти за передачу пакета

Мы понимаем, что создатели пакетов могут решить передавать поток своих наград одному или нескольким разработчикам. Управление такими передачами должно оставаться решением создателя пакета и его партнеров, без вмешательства со стороны tea. Для таких передач должны быть предоставлены инструменты для полной или частичной передачи (возможно, только часть наград будет перераспределяться одному или нескольким разработчикам, в то время как оставшиеся награды продолжат поступать к первоначальному создателю пакета) и для перераспределения наград за стейкинг через один счет, контролируемый одним участником сети, несколькими участниками сети или автоматически распределяемых по нескольким счетам с использованием статических или динамических коэффициентов.

## Распределение вознаграждений между несколькими сопровождающими

Сопровождение пакета может зависеть от работы одной или нескольких команд разработчиков. Перед тем как начнут поступать вознаграждения, команды должны рассмотреть возможность автоматизировать распределение ценности между собой. Как происходит распределение, должны решать сами сопровождающие, так как они находятся в лучшей позиции для оценки вклада каждого участника и способа вознаграждения.

Для достижения этой цели каждая команда (или команды) могут создать свою собственную децентрализованную автономную организацию ([DAO](https://ethereum.org/en/dao/)) и либо автоматизировать распределение, либо развернуть более сложные системы для определения адекватного распределения ценности на основе внешних факторов, таких как голосование всех членов DAO или распределение по времени на основе непрерывного вклада, успешного выполнения заданий и так далее.

## Обработка "Форков" Пакетов

Мы считаем, что форки являются важными и в значительной степени недооцененными. Форки могут быть эффективным инструментом для разработки пакетов, конкурирующих по функциональности, производительности, безопасности и даже вниманию. Несмотря на их полезность, форки должны учитывать исходные усилия. В рамках будущей работы или возможных вкладов, tea сообщество может улучшить систему, чтобы требовать объявления о форках, возможно, даже обнаруживая их при регистрации проекта. Необъявленные форки, выявленные чайными дегустаторами, могут привести к урезанию части стейка форка, который находится в казне, и его перераспределению в пользу оригинального создателя пакета или передаче tea тестировщикам, которые обнаружили форк.

## Зависимости Времени выполнения и Сборки

Протокол tea может не различать зависимости времени сборки от зависимостей времени выполнения при распределении наград за доказанное участие при запуске. Однако, если tea сообщество считает важным сделать такое различие, оно может предложить улучшения алгоритма распределения наград, чтобы учитывать значимость каждой зависимости и их вклад в индивидуальную ценность пакетов, которые зависят от них. Эти предложения будут подвергнуты голосованию и реализованы на основе решения сообщества.

## Награды за Использование

По мере создания приложений с использованием проектов, зарегистрированных в tea, сообщество может усовершенствовать алгоритм наград так, чтобы распределение могло зависеть от внешних подтвержденных наборов данных, таких как использование. Это обновление механизма наград может позволить выделять большее количество токенов TEA в пользу пакетов с наибольшим использованием, при этом учитывая ограничения по стейкинг-соотношению, описанные в разделе о токенах TEA. Создатели пакетов могут использовать подобный подход для распределения наград среди их зависимостей на основе прозрачной логики по своему выбору. Обратите внимание, что вся информация, используемая для влияния на распределение наград между пакетами и зависимостями в системе tea, должна быть достоверной.

## Благодарности

Этот официальный документ не смог бы существовать без поддержки и преданности многих приверженцев tea. Авторы хотели бы выразить признательность Jacob Heider, Jadid Khan, Josh Kruger и Shane Molidor за их вклад в токеномику, Sanchit Ram за его вклад в алгоритм teaRank, а также многим отдельным лицам, которые добровольно уделили время, чтобы предоставить обратную связь по содержанию этого документа.

## Словарь терминов

| Срок     | Определение                                                                                                                                                                                       |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Leaf     | Наименьший номинал токена TEA. Лист соответствует одной квинтиллионной (10^-18) части TEA.                                                                               |
| Slashing | Действия по наказанию стейкеров в ответ на поведение, противоречащее правилам протокола.                                                                                                          |
| Staking  | Действие по блокировке токенов TEA для поддержки вашего заявления и получения вознаграждений (или штрафов) на основе консенсуса относительно действительности вашего требования                                                 |
| stTEA    | Непередаваемый токен «staked TEA» или «stTEA», полученный участниками сети за каждый токен, стейкинг которого осуществляется в соотношении 1:1. stTEA может использоваться для участия в управлении tea протоколом.|
| teaRank  | Оценка динамического воздействия присваивается каждому проекту с помощью алгоритма протокола «Доказательство вклада».                                                                                                 |

## Рекомендации
1. [https://creativecommons.org/licenses/by-sa/4.0/](https://creativecommons.org/licenses/by-sa/4.0/)
2. [https://archive.org/details/historyofmodernc00ceru](https://archive.org/details/historyofmodernc00ceru)
3. [https://nvd.nist.gov/vuln/detail/CVE-2021-44228](https://nvd.nist.gov/vuln/detail/CVE-2021-44228)
4. [https://www.reuters.com/article/usa-cyber-vulnerability-idCNL1N2SY2PA](https://www.reuters.com/article/usa-cyber-vulnerability-idCNL1N2SY2PA)
5. [https://twitter.com/yazicivo/status/1469349956880408583](https://twitter.com/yazicivo/status/1469349956880408583)
6. [https://www.thestack.technology/core-js-maintainer-denis-pusharev-license-broke-angry/](https://www.thestack.technology/core-js-maintainer-denis-pusharev-license-broke-angry/)
7. [https://www.w3.org/TR/did-core/](https://www.w3.org/TR/did-core/)
8. [https://www.bleepingcomputer.com/news/security/npm-ecosystem-at-risk-from-manifest-confusion-attacks/](https://www.bleepingcomputer.com/news/security/npm-ecosystem-at-risk-from-manifest-confusion-attacks/)
9. [https://www.theregister.com/2016/03/23/npm\_left\_pad\_chaos/](https://www.theregister.com/2016/03/23/npm\_left\_pad\_chaos/)
10. [https://fossa.com/blog/npm-packages-colors-faker-corrupted/](https://fossa.com/blog/npm-packages-colors-faker-corrupted/)
11. [https://www.lunasec.io/docs/blog/node-ipc-protestware/](https://www.lunasec.io/docs/blog/node-ipc-protestware/)
12. [https://github.com/dominictarr/event-stream/issues/116](https://github.com/dominictarr/event-stream/issues/116)
13. [https://blog.npmjs.org/post/163723642530/crossenv-malware-on-thenpm-registry.html](https://blog.npmjs.org/post/163723642530/crossenv-malware-on-the-npm-registry.html)
14. [https://www.zdnet.com/article/open-source-software-how-many-bugs-are-hidden-there-on-purpose/](https://www.zdnet.com/article/open-source-software-how-many-bugs-are-hidden-there-on-purpose/)
15. [https://threatpost.com/backdoor-found-in-utility-for-linux/147581/](https://threatpost.com/backdoor-found-in-utility-for-linux/147581/)
16. [https://www.fbi.gov/news/stories/phantom-secure-takedown-031618](https://www.fbi.gov/news/stories/phantom-secure-takedown-031618)
17. [https://www.europol.europa.eu/media-press/newsroom/news/800-criminalsarrested-in-biggest-ever-law-enforcement-operation-against-encryptedcommunication](https://www.europol.europa.eu/media-press/newsroom/news/800-criminals-arrested-in-biggest-ever-law-enforcement-operation-against-encrypted-communication)
18. [https://medium.com/intrinsic-blog/compromised-npm-package-event-stream-d47d08605502](https://medium.com/intrinsic-blog/compromised-npm-package-event-stream-d47d08605502)
19. [https://www.npmjs.com/package/lodash](https://www.npmjs.com/package/lodash)
20. [https://www.npmjs.com/package/chalk](https://www.npmjs.com/package/chalk)
21. [https://www.npmjs.com/package/log4js/](https://www.npmjs.com/package/log4js/)
22. [https://www.bleepingcomputer.com/news/security/npm-ecosystem-at-risk-from-manifest-confusion-attacks/](https://www.bleepingcomputer.com/news/security/npm-ecosystem-at-risk-from-manifest-confusion-attacks/)
23. [https://medium.com/intrinsic-blog/compromised-npm-package-eventstream-d47d08605502](https://medium.com/intrinsic-blog/compromised-npm-package-event-stream-d47d08605502)
24. [https://semver.org/](https://semver.org/)
25. [https://arxiv.org/abs/1207.2617](https://arxiv.org/abs/1207.2617)
26. [https://research.web3.foundation/Polkadot/overview/token-economics](https://research.web3.foundation/Polkadot/overview/token-economics) 
